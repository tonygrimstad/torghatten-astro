---
const { photos = [], year = 2023 } = Astro.props;
---

<div class="mb-8">
  <h2 class="text-xl font-semibold text-yellow-400 mb-4">üì∏ {year}</h2>
  <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
    {
      photos.map((url: string, i: number) => (
        <img
          src={url}
          class="w-full h-auto cursor-pointer"
          data-index={i}
          alt={`Bilde ${i + 1}`}
        />
      ))
    }
  </div>
</div>

<div
  id="lightbox-overlay"
  class="fixed inset-0 bg-black bg-opacity-90 z-50 hidden flex items-center justify-center"
  style="backdrop-filter: blur(5px);"
>
  <div class="relative max-w-4xl w-full px-4">
    <button class="absolute top-2 right-2 text-white text-3xl" id="close-btn">
      ‚úñ
    </button>
    <img
      id="lightbox-image"
      src=""
      alt="Stort bilde"
      class="w-full max-h-[90vh] object-contain rounded"
    />
    <div class="flex justify-between mt-4">
      <button id="prev-btn" class="text-white text-2xl">‚Üê</button>
      <button id="next-btn" class="text-white text-2xl">‚Üí</button>
    </div>
  </div>
</div>

<script type="module" src="/scripts/lightbox.js"></script>

<style>
  #lightbox-image {
    opacity: 0;
    transform: scale(0.98);
    transition:
      opacity 0.4s ease,
      transform 0.4s ease;
  }

  #lightbox-image.show {
    opacity: 1;
    transform: scale(1);
  }
</style>
