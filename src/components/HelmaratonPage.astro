---
import HeroSectionDistanse from "./HeroSectionDistanse.astro";
import RaceProfile from "./RaceProfile.astro";
import ClassList from "./ClassList.astro";
import InfoSection from "./InfoSection.astro";
import DistancesSection from "./DistancesSection.astro";
import Top5recordsComponent from "./Top5recordsComponent.astro";
import VideoSection from "./VideoSection.astro";
import SponsorSection from "./SponsorSection.astro";
import helmaratonRecords from "../data/top5_json/helmaraton.json";
import Footer from "./footer.astro";
import FeatureSection from "./FeatureSection.astro";
import Layout from "../layouts/Layout.astro";
import { useTranslations } from "../utils/useTranslations.ts";
import { classGroups } from "../config/classGroups.ts";

const { t, currentLang } = useTranslations(Astro.url);
---

<Layout
  title={t("seo.fullMarathonTitle")}
  description={t("helmaraton.description")}
  lang={currentLang}
  light={true}
>
  <!-- Seksjoner med alternerende bakgrunner for visuell rytme -->
  <HeroSectionDistanse
    distanse={`ðŸƒâ€â™‚ï¸ ${t("nav.fullMarathon")} (42 195 m)`}
    description={t("helmaraton.description")}
  />

  <!-- Lys seksjon -->
  <div class="relative bg-white/95 backdrop-blur-sm">
    <RaceProfile
      kontrollmalt={true}
      kontrolltekst={t("helmaraton.certified")}
      kontrollbilde="/KontrollertLoype.png"
      tittel={t("helmaraton.profileTitle")}
      beskrivelse1={t("helmaraton.description1")}
      beskrivelse2={t("helmaraton.description2")}
    />
  </div>

  <!-- Lys seksjon for klasser -->
  <div
    class="relative bg-linear-to-br from-white/90 to-gray-50/95 backdrop-blur-sm"
  >
    <ClassList
      tittel={t("helmaraton.classTitle")}
      klasser={classGroups.helmaraton}
    />
  </div>

  <FeatureSection feature="recordsSection">
    <Top5recordsComponent
      distanse={t("nav.fullMarathon") || "Helmaraton"}
      kjonn="K"
      data={helmaratonRecords}
    />
    <Top5recordsComponent
      distanse={t("nav.fullMarathon") || "Helmaraton"}
      kjonn="M"
      data={helmaratonRecords}
    />
  </FeatureSection>

  <FeatureSection feature="videoSection">
    <VideoSection
      title={t("helmaraton.videoTitle")}
      description={t("helmaraton.videoDescription")}
      videoUrl="https://www.youtube.com/embed/sPpCKe2s94k"
    />
  </FeatureSection>

  <FeatureSection feature="infoSection">
    <div class="relative bg-white/95 backdrop-blur-sm">
      <InfoSection />
    </div>
  </FeatureSection>

  <!-- Lys seksjon for distanser -->
  <div class="relative bg-white/95 backdrop-blur-sm">
    <DistancesSection current="Helmaraton" />
  </div>

  <FeatureSection feature="SponsorerAlleSider">
    <SponsorSection variant="minimal" maxLogos={8} showViewAllLink={true} />
  </FeatureSection>

  <Footer />
</Layout>
