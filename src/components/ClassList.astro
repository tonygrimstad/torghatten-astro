---
import { useTranslations } from "../utils/useTranslations.ts";

const { t } = useTranslations(Astro.url);

const {
  tittel = t("classList.title"),
  klasser = [],
  listId = "class-list", // Ny prop for unik ID
} = Astro.props;

const headingId = `${listId}-heading`;
const descriptionId = `${listId}-description`;
---

<section
  class="bg-gray-100/90 py-16 px-6 backdrop-blur-sm"
  aria-labelledby={headingId}
  role="region"
>
  <div class="max-w-5xl mx-auto text-center">
    <h2
      id={headingId}
      class="text-2xl md:text-3xl font-bold mb-6 text-gray-900"
    >
      {t("classList.heading")}
    </h2>

    <p
      id={descriptionId}
      class="mb-8 text-lg md:text-xl font-medium text-gray-800 leading-relaxed max-w-3xl mx-auto"
    >
      {tittel}
    </p>

    <div
      role="group"
      aria-labelledby={headingId}
      aria-describedby={descriptionId}
    >
      <ul
        class="flex flex-wrap justify-center gap-3 md:gap-4"
        role="list"
        aria-label="Aldersklasser for lÃ¸pet"
      >
        {
          klasser.map((klasse: string, index: number) => (
            <li role="listitem" class="shrink-0">
              <span
                class={`inline-block px-6 py-3 rounded-full text-sm md:text-base font-semibold
                      shadow-md hover:shadow-lg transition-all duration-200 border-2
                      focus-visible:ring-4 focus-visible:ring-blue-500 focus-visible:ring-offset-2
                      ${
                        index % 3 === 0
                          ? "bg-yellow-100 text-gray-900 border-yellow-300 hover:bg-yellow-200"
                          : index % 3 === 1
                            ? "bg-blue-100 text-gray-900 border-blue-300 hover:bg-blue-200"
                            : "bg-green-100 text-gray-900 border-green-300 hover:bg-green-200"
                      }`}
                role="generic"
                tabindex="0"
              >
                {t(`classList.groups.${klasse}`) ?? klasse}
              </span>
            </li>
          ))
        }
      </ul>
    </div>

    {
      klasser.length === 0 && (
        <p class="text-gray-600 italic mt-4" role="status">
          Ingen klasser tilgjengelig for denne distansen.
        </p>
      )
    }
  </div>
</section>
